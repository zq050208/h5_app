<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title></title>
</head>
<body>
<style>
    html, body {
        position: relative;
        height: 100%;
        background: #F1F1F1;
        -webkit-tap-highlight-color: transparent;
    }

    body {
        background: #eee;
        font-family:  PingFangSC-Regular;
        font-size: 14px;
        color: #333333;
        margin: 0;
        padding: 0;
    }
    *{
        margin: 0;
        padding: 0 ;

    }
    header{
        width: 100%;
        position: fixed;
        height: 0px;
        padding-top: 100%;
    }

    header img{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .container{
        width: 100%;
        position: absolute;
        background: #F1F1F1;
        margin-top: 17.5rem;
        display: block;
        z-index: 50;
        overflow:hidden
    }

    .skill,.info{
        background: #FFFFFF;
        font-family: PingFangSC-Medium;
    }

    .container-title{
        font-family: PingFangSC-Medium;
        padding:10px 15px;
        border-bottom: .5px solid #DDDDDD
    }

    .container-title-name{
        padding:5px 0 10px 0
    }
    .skill{
        padding-bottom: 15px;
    }

    .skill-box{
        height: 62px;
        padding:15px 15px 0 15px;
        vertical-align: middle;
    }

    .skill-box-left{
        width: 82px;
        height: 62px;
        float: left;
        vertical-align: middle;
        overflow: hidden;
        border-radius: 4px;
    }
    .skill-box-left img{
        width: 100%;
        overflow: hidden;
    }
    .skill-box-right{
        margin-left: 90px;
        vertical-align: middle;
    }

    .price{
        position: absolute;
        right: 15px;
        margin-top: 20px;
        color: #F04343;
        font-family: PingFangSC-Medium;
    }
    .price-text{
        font-size: 12px;
    }

    .price-num{
        font-size: 18px;
    }
    .order{
        font-size: 12px;
        color: #999999;
    }

    .info{
        clear: both;
        margin-top: 10px;
    }

    .info p{
        padding: 6px 15px;
        color: #999999;
    }
    .info-rl{
        margin-left: 25px;
    }

    .chat{
        width: 92%;
        padding: 4%;
        text-align: center;
        margin: 0 auto;
    }
    .chat span{
        width: 100%;
        height: 50px;
        line-height: 50px;
        display: block;
        background: #FFC648;
        border-radius: 4px;
        font-family: PingFangSC-Medium;
        color: #222222;
    }

    .follow{
        position: absolute;
        right: 10px;
        top: 15rem;
        padding: 4px 15px;
        color: #222222;
        text-align: center;
        background: #FFC648;
        font-family: PingFangSC-Medium;
        border-radius: 4px;
        z-index: 1;
    }
    .adorn{
        width: 2px;
        height: 14px;
        margin-right: 5px;
        margin-bottom: -2px;
        display: inline-block;
        background: #FDC950;
    }
</style>
<header>
    <span class="follow btn">关注</span>
    <img/>
</header>

<div class="container">
    <div class="skill btn">
        <div class="container-title"><span class="adorn"></span><span>技能</span></div>
    </div>

    <div class="info">
        <div class="container-title"><span class="adorn"></span><span>资料</span></div>
        <p><span>昵称</span><span class="nickname info-rl"></span></p>
        <p><span>UID</span><span class="userId info-rl"></span></p>
        <p><span>性别</span><span class="gender info-rl"></span></p>
        <p><span>年龄</span><span class="sex info-rl"></span></p>
    </div>

    <div class="chat btn">
        <span>聊天</span>
    </div>
</div>

<script src="../public/jquery.min.js"></script>
<script src="../public/config.js"></script>
<script src="../public/service.js"></script>
<script>

    var config = {
        userIndexUrl: 'UserController/getUserIndex',
        downloadUrl: 'https://h5.tinytiger.cn/web_app/knapsack/download.html',
        type: 'post',
        data: {
            user_id: Request('uid'),
            netease_id: Request('neteaseid')
        }
    };
    requsetHttp(config.userIndexUrl,config.type,config.data,null,(res)=>{
        var info = res.data.user_info;
        var skill = res.data.user_skill;
        $('title,.nickname').text(info.nickname);
        $('header img').attr('src',info.avatar);
        $('.userId').text(info.user_id);
        $('.gender').text((info.gender == 1 ? '男' : '女'));
        $('.sex').text(info.sex || 18);
        $('.btn').click(function () {location.href = config.downloadUrl;});
        for(var i=0; i< skill.length;i++){
            $('.skill').append('\
                <div class="skill-box">\
                    <div class="skill-box-left"><img src='+skill[i].avatar+' /></div>\
                    <div class="skill-box-right">\
                        <span class="price"><span class="price-num">'+skill[i].price_discount+'</span><span class="price-text">元/小时</span></span>\
                        <p class="container-title-name">'+skill[i].name+'</p>\
                        <p class="order">累计接单：<span class="order-num">'+skill[i].peiwan_order_num+'</span>次</p>\
                    </div>\
            </div>');
        }
    })
</script>
</body>
</html>